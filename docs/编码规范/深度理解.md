## <font style="background-color:rgba(255, 255, 255, 0);">说说你对 Vue 中异步组件的理解</font>
[说说你对 Vue 中异步组件的理解- 题目详情 - 前端面试题宝典](https://fe.ecool.fun/topic/3589263a-683a-47d2-8716-191cd1d393bf?orderBy=default&order=desc&tagId=0&exerciseCate=2&ignoreMaster=1&difficulty=)

[Vue.js](https://cn.vuejs.org/guide/components/async)

```vue
<!-- loading.vue -->
<template>
  <div>
    <h2>加载中...</h2>
  </div>
</template>

<!-- local-child.vue -->
<template>
  <p>我是本地组件</p>
</template>

<!-- async-child.vue  -->
<template>
  <p>我是异步组件</p>
</template>

<!-- App.vue -->
<template>
  <LocalChild />
  <button @click="showAsyncChild = true">load async child</button>
  <AsyncChild v-if="showAsyncChild" />
  <!-- <SyncChild v-if="showAsyncChild" /> -->
</template>

<script setup lang="ts">
import { defineAsyncComponent, ref } from "vue";
import LocalChild from "./local-child.vue";
import Loading from './components/loading.vue'

const showAsyncChild = ref(false);

// 异步组件 加载
// delay 的作用是延迟显示加载组件，但如果异步组件在 delay 时间内加载完成，加载组件就不会显示
const AsyncChild = defineAsyncComponent({
  loader: () => {
    console.log('Loading AsyncChild component...');
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve(import("./async-child.vue"));
      }, 3000); // 模拟 3 秒的加载时间
    });
  },
  loadingComponent: Loading, // 加载中的组件 
  delay: 200, // 延迟 200ms 显示加载状态
  timeout: 3000 // 超过 3 秒显示错误组件
});

// 同步组件 加载
// import SyncChild from './async-child.vue'
</script>
```



